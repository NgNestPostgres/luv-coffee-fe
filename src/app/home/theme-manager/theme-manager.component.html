<button
  aria-label="Change theme"
  class="btn-icon-theme"
  mat-icon-button
  [matMenuTriggerFor]="themeMenu"
>
  <mat-icon>{{ (isDark$ | async) === true ? "dark_mode" : "light_mode" }}</mat-icon>
</button>

  <mat-menu #themeMenu="matMenu">
  <button mat-menu-item (click)="changeTheme('auto')">System</button>
  <button mat-menu-item (click)="changeTheme('light')">Light</button>
  <button mat-menu-item (click)="changeTheme('dark')">Dark</button>
</mat-menu>